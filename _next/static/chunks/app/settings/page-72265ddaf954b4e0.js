(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{2069:function(e,t,l){Promise.resolve().then(l.bind(l,4289))},4289:function(e,t,l){"use strict";l.d(t,{SettingsTabs:function(){return T}});var i=l(7437),n=l(2265),a=l(231),s=l.n(a),r=l(8199);async function o(){return(0,r.S)("/views")}async function d(e){return(0,r.S)("/views",{method:"POST",body:JSON.stringify(e)})}var c=l(2586),u=l(2151);let h=["/settings","/feed.xml","/api"];function p(){return(0,i.jsx)("svg",{viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",children:(0,i.jsx)("path",{fill:"currentColor",d:"M10 2.5 6.5 6h2.2v8H6.5L10 17.5 13.5 14h-2.2V6h2.2L10 2.5z"})})}function m(e){return e.startsWith("/")?e.replace(/\/$/,"")||"/":"/".concat(e)}function f(e){return[...e].sort((e,t)=>{var l,i,n,a,s,r;let o=Number(null!==(l=e.config.order)&&void 0!==l?l:0),d=Number(null!==(i=t.config.order)&&void 0!==i?i:0);return o!==d?o-d:String(null!==(a=null!==(n=e.config.title)&&void 0!==n?n:e.config.name)&&void 0!==a?a:"").localeCompare(String(null!==(r=null!==(s=t.config.title)&&void 0!==s?s:t.config.name)&&void 0!==r?r:""))})}function v(e,t,l){if(!e.trim())return"Path is required.";let i=m(e.trim());return h.some(e=>i===e||i.startsWith("".concat(e,"/")))?"This path is reserved.":t.some(e=>e.config.path===i&&e.ref_id!==l)?"Path already exists.":null}function g(){var e,t;let[l,a]=(0,n.useState)([]),[h,g]=(0,n.useState)(!0),[x,j]=(0,n.useState)(null),[b,w]=(0,n.useState)(""),[_,N]=(0,n.useState)(""),[y,S]=(0,n.useState)(""),[C,k]=(0,n.useState)(null),[E,D]=(0,n.useState)(null),[T,F]=(0,n.useState)({}),[M,U]=(0,n.useState)(null),[L,P]=(0,n.useState)(null),[O,A]=(0,n.useState)({}),[V,J]=(0,n.useState)(null),[B,I]=(0,n.useState)({}),[R,H]=(0,n.useState)(!1),[z,W]=(0,n.useState)(null),[Q,G]=(0,n.useState)(!1),[q,K]=(0,n.useState)(!1),[Y,X]=(0,n.useState)(null),$=(0,u.p)(),[Z,ee]=(0,n.useState)("idle"),[et,el]=(0,n.useState)(""),[ei,en]=(0,n.useState)(null),[ea,es]=(0,n.useState)(null),er=(0,n.useMemo)(()=>(function(e){let t=new Map;for(let i of e){var l;let e=null!==(l=t.get(i.comp_id))&&void 0!==l?l:[];e.push(i),t.set(i.comp_id,e)}return t})(l),[l]),eo=(0,n.useMemo)(()=>Array.from(er.values()).filter(e=>e.length>1),[er]),ed=eo.length>0,ec=R?l.filter(e=>{var t,l;return(null!==(l=null===(t=er.get(e.comp_id))||void 0===t?void 0:t.length)&&void 0!==l?l:0)>1}):l;async function eu(e){if(R){$.push("Disable shared-only filter to reorder","info");return}if(!ei||ei===e)return;let t=f(l),i=t.findIndex(e=>e.ref_id===ei),n=t.findIndex(t=>t.ref_id===e);if(i<0||n<0)return;let s=[...t],[o]=s.splice(i,1);s.splice(n,0,o),a(s);try{await Promise.all(s.map((e,t)=>(0,r.S)("/references/".concat(e.ref_id),{method:"PUT",body:JSON.stringify({overrides:{order:t}})}))),$.push("View order updated","success")}catch(e){j(e instanceof Error?e.message:"Failed to reorder views"),$.push("Failed to reorder views","error")}}let eh=(0,n.useMemo)(()=>v(b,l),[b,l]);async function ep(){try{var e;g(!0);let[t,l]=await Promise.all([o(),(0,r.S)("/home/root-view")]);a(f(t)),k(null!==(e=l.root_view_node_id)&&void 0!==e?e:null)}catch(e){j(e instanceof Error?e.message:"Failed to load views")}finally{g(!1)}}async function em(e){if(e.preventDefault(),eh){j(eh),$.push(eh,"error");return}try{j(null);let e=await d({path:m(b.trim()),title:_.trim()||"Untitled",description:y.trim()||void 0});a(t=>f([e,...t])),w(""),N(""),S(""),!C&&e.node_id&&k(e.node_id),$.push("View created","success")}catch(e){j(e instanceof Error?e.message:"Failed to create view"),$.push("Failed to create view","error")}}async function ef(e){try{await (0,r.S)("/home/root-view",{method:"PUT",body:JSON.stringify({root_view_node_id:e})}),k(e),$.push("Home view updated","success")}catch(e){j(e instanceof Error?e.message:"Failed to set home view"),$.push("Failed to set home view","error")}}async function ev(e){if(e.node_id)try{await (0,r.S)("/views/".concat(e.node_id),{method:"DELETE"}),a(t=>t.filter(t=>t.ref_id!==e.ref_id)),C===e.node_id&&k(null),$.push("View deleted","success")}catch(e){j(e instanceof Error?e.message:"Failed to delete view"),$.push("Failed to delete view","error")}}(0,n.useEffect)(()=>{ep()},[]);let eg=(0,n.useCallback)(async(e,t,i)=>{let n=v(t.path,l,e.ref_id);if(n){j(n),ee("error"),(null==i?void 0:i.silent)||$.push(n,"error");return}let s=m(t.path);ee("saving");try{await (0,r.S)("/references/".concat(e.ref_id),{method:"PUT",body:JSON.stringify({overrides:{title:t.title,name:t.title,path:s,browser_title:t.title,description:t.description}})});let l=JSON.stringify({title:t.title,path:s,description:t.description});el(l),a(l=>f(l.map(l=>l.ref_id===e.ref_id?{...l,config:{...l.config,title:t.title,name:t.title,path:s,description:t.description}}:l))),ee("saved"),(null==i?void 0:i.closeAfter)&&D(null),(null==i?void 0:i.silent)||$.push("View updated","success"),setTimeout(()=>{ee(e=>"saved"===e?"idle":e)},1500)}catch(e){j(e instanceof Error?e.message:"Failed to update view"),ee("error"),(null==i?void 0:i.silent)||$.push("Failed to update view","error")}},[$,l]);async function ex(e){let t=T[e.ref_id];t&&await eg(e,t,{closeAfter:!0})}async function ej(e){let t=O[e.ref_id];if(!t)return;if(!e.node_id){j("View node is missing.");return}let i=v(t.path,l);if(i){j(i),$.push(i,"error");return}let n=m(t.path);try{let l=await (0,r.S)("/views/".concat(e.node_id,"/duplicate"),{method:"POST",body:JSON.stringify({path:n,title:t.title,description:t.description})});a(e=>f([l,...e])),P(null),$.push("View duplicated","success")}catch(e){j(e instanceof Error?e.message:"Failed to duplicate view"),$.push("Failed to duplicate view","error")}}async function eb(e){let t=B[e.ref_id];if(!t)return;if(!e.node_id){j("View node is missing.");return}let i=v(t.path,l);if(i){j(i),$.push(i,"error");return}let n=m(t.path);try{let l=await (0,r.S)("/views/".concat(e.node_id,"/mirror"),{method:"POST",body:JSON.stringify({path:n,title:t.title,description:t.description})});a(e=>f([l,...e])),J(null),$.push("View mirrored","success")}catch(e){j(e instanceof Error?e.message:"Failed to mirror view"),$.push("Failed to mirror view","error")}}async function ew(e){if(!e.node_id){j("View node is missing.");return}try{let t=await (0,r.S)("/views/".concat(e.node_id,"/detach"),{method:"POST"});a(l=>f(l.map(l=>l.ref_id===e.ref_id?t:l))),W(null),$.push("View detached","success")}catch(e){j(e instanceof Error?e.message:"Failed to detach view"),$.push("Failed to detach view","error")}}async function e_(){let e=[];for(let t of eo){let l=t.filter(e=>null!==e.node_id);l.length>1&&e.push(...l.slice(1))}if(0===e.length){$.push("No shared views to detach","info"),G(!1);return}let t=new Map,l=0;for(let i of e)try{let e=await (0,r.S)("/views/".concat(i.node_id,"/detach"),{method:"POST"});t.set(e.ref_id,e)}catch(e){l+=1}t.size&&a(e=>f(e.map(e=>{var l;return null!==(l=t.get(e.ref_id))&&void 0!==l?l:e}))),G(!1),l?$.push("Some views failed to detach","error"):$.push("Shared views detached","success")}function eN(e,t){var l;null!=t&&(null===(l=navigator.clipboard)||void 0===l||l.writeText(String(t)),$.push("Copied ".concat(e),"info"))}return(0,n.useEffect)(()=>{var e,t,i;if(!E){ee("idle"),el("");return}let n=l.find(e=>e.ref_id===E);n&&(el(JSON.stringify({title:String(null!==(e=n.config.title)&&void 0!==e?e:""),path:String(null!==(t=n.config.path)&&void 0!==t?t:"/"),description:String(null!==(i=n.config.description)&&void 0!==i?i:"")})),ee("idle"))},[E,l]),(0,n.useEffect)(()=>{if(!E)return;let e=T[E];if(!e)return;let t=l.find(e=>e.ref_id===E);if(!t)return;if(JSON.stringify({title:e.title,path:m(e.path),description:e.description})===et){"dirty"===Z&&ee("idle");return}ee("dirty");let i=setTimeout(()=>{eg(t,e,{silent:!0})},900);return()=>clearTimeout(i)},[T,E,et,l,Z,eg]),(0,i.jsxs)("div",{className:"panel",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("h2",{children:"Views"}),(0,i.jsx)("p",{children:"Create and manage view pages."})]}),(0,i.jsxs)("form",{className:"form-grid",onSubmit:em,children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Path"}),(0,i.jsx)("input",{value:b,onChange:e=>w(e.target.value),placeholder:"/about"}),eh?(0,i.jsx)("span",{className:"form-hint error",children:eh}):null]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Title"}),(0,i.jsx)("input",{value:_,onChange:e=>N(e.target.value),placeholder:"About"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Description"}),(0,i.jsx)("textarea",{value:y,onChange:e=>S(e.target.value),placeholder:"Optional short description"})]}),(0,i.jsx)("button",{className:"button",type:"submit",disabled:!!eh,children:"Create view"})]}),x?(0,i.jsx)("div",{className:"alert",children:x}):null,h?(0,i.jsx)("p",{children:"Loading views..."}):null,(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsxs)("div",{className:"author-actions-row",children:[(0,i.jsxs)("label",{className:"toggle",children:[(0,i.jsx)("input",{type:"checkbox",checked:R,onChange:e=>H(e.target.checked)}),(0,i.jsx)("span",{children:"Show shared only"})]}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>K(e=>!e),children:q?"Hide shared info":"Shared content info"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>G(!0),disabled:!ed,children:"Detach all shared"})]}),q?(0,i.jsxs)("div",{className:"legend-card",children:[(0,i.jsx)("strong",{children:"Shared content"}),(0,i.jsx)("p",{className:"muted",children:"Views with the same content tree share a single ViewContainer component. Editing content in one updates all shared views."}),(0,i.jsx)("p",{className:"muted",children:"Use Detach to make a view independent by cloning its content."})]}):null]}),(0,i.jsxs)("div",{className:"list",children:[ec.map(e=>{var t,n,a,r,o,d,c,u,h,m,f,g,x,j,b,w,_,N,y;let S=null!==(t=er.get(e.comp_id))&&void 0!==t?t:[],k=function(e,t){let l=e.filter(e=>e&&e!==t);return l.length?l.length<=3?"Shared with: ".concat(l.join(", ")):"Shared with: ".concat(l.slice(0,3).join(", ")," and ").concat(l.length-3," more"):null}(S.map(e=>{var t;return String(null!==(t=e.config.path)&&void 0!==t?t:"")}),String(null!==(n=e.config.path)&&void 0!==n?n:"")),M=E===e.ref_id,H=L===e.ref_id,z=V===e.ref_id,Q=null!==(d=T[e.ref_id])&&void 0!==d?d:{title:String(null!==(a=e.config.title)&&void 0!==a?a:""),path:String(null!==(r=e.config.path)&&void 0!==r?r:"/"),description:String(null!==(o=e.config.description)&&void 0!==o?o:"")},G=null!==(f=O[e.ref_id])&&void 0!==f?f:{title:"Copy of ".concat(String(null!==(c=e.config.title)&&void 0!==c?c:"Untitled")),path:"/"===String(null!==(u=e.config.path)&&void 0!==u?u:"/")?"/copy":"".concat(String(null!==(h=e.config.path)&&void 0!==h?h:""),"--copy"),description:String(null!==(m=e.config.description)&&void 0!==m?m:"")},q=null!==(w=B[e.ref_id])&&void 0!==w?w:{title:"Mirror of ".concat(String(null!==(g=e.config.title)&&void 0!==g?g:"Untitled")),path:"/"===String(null!==(x=e.config.path)&&void 0!==x?x:"/")?"/mirror":"".concat(String(null!==(j=e.config.path)&&void 0!==j?j:""),"--mirror"),description:String(null!==(b=e.config.description)&&void 0!==b?b:"")},K=v(G.path,l,e.ref_id),$=v(q.path,l,e.ref_id);return(0,i.jsxs)("div",{className:"list-item column draggable-item".concat(ei===e.ref_id?" dragging":"").concat(ea===e.ref_id?" drag-over":""),onDragOver:t=>{R||(t.preventDefault(),es(e.ref_id))},onDrop:()=>eu(e.ref_id),children:[(0,i.jsxs)("div",{className:"view-item",children:[(0,i.jsx)("strong",{children:null!==(_=e.config.title)&&void 0!==_?_:"Untitled"}),(0,i.jsx)("div",{className:"muted",children:e.config.path}),(0,i.jsxs)("div",{className:"badge-row",children:[C===e.node_id?(0,i.jsx)("span",{className:"badge",children:"Home"}):null,S.length>1?(0,i.jsxs)("span",{className:"badge secondary",children:["Shared x",S.length]}):null]}),k?(0,i.jsx)("div",{className:"muted",children:k}):null]}),M?(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Title"}),(0,i.jsx)("input",{value:Q.title,onChange:t=>F(l=>({...l,[e.ref_id]:{...Q,title:t.target.value}}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Path"}),(0,i.jsx)("input",{value:Q.path,onChange:t=>F(l=>({...l,[e.ref_id]:{...Q,path:t.target.value}}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Description"}),(0,i.jsx)("textarea",{value:Q.description,onChange:t=>F(l=>({...l,[e.ref_id]:{...Q,description:t.target.value}}))})]})]}):null,H?(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"New title"}),(0,i.jsx)("input",{value:G.title,onChange:t=>A(l=>({...l,[e.ref_id]:{...G,title:t.target.value}}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"New path"}),(0,i.jsx)("input",{value:G.path,onChange:t=>A(l=>({...l,[e.ref_id]:{...G,path:t.target.value}}))}),K?(0,i.jsx)("span",{className:"form-hint error",children:K}):null]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Description"}),(0,i.jsx)("textarea",{value:G.description,onChange:t=>A(l=>({...l,[e.ref_id]:{...G,description:t.target.value}}))})]}),(0,i.jsxs)("div",{className:"author-actions-row",children:[(0,i.jsx)("button",{className:"button",type:"button",onClick:()=>ej(e),disabled:!!K,children:"Create copy"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>P(null),children:"Cancel"})]})]}):null,z?(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"New title"}),(0,i.jsx)("input",{value:q.title,onChange:t=>I(l=>({...l,[e.ref_id]:{...q,title:t.target.value}}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"New path"}),(0,i.jsx)("input",{value:q.path,onChange:t=>I(l=>({...l,[e.ref_id]:{...q,path:t.target.value}}))}),$?(0,i.jsx)("span",{className:"form-hint error",children:$}):null]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Description"}),(0,i.jsx)("textarea",{value:q.description,onChange:t=>I(l=>({...l,[e.ref_id]:{...q,description:t.target.value}}))})]}),(0,i.jsxs)("div",{className:"author-actions-row",children:[(0,i.jsx)("button",{className:"button",type:"button",onClick:()=>eb(e),disabled:!!$,children:"Create mirror"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>J(null),children:"Cancel"})]})]}):null,(0,i.jsxs)("div",{className:"action-bar",children:[(0,i.jsx)("div",{className:"action-group",children:R?null:(0,i.jsx)("button",{className:"drag-handle",type:"button",draggable:!R,"aria-label":"Drag to reorder",title:"Drag to reorder",onDragStart:t=>{en(e.ref_id),t.dataTransfer.setData("text/plain",String(e.ref_id)),t.dataTransfer.effectAllowed="move"},onDragEnd:()=>{en(null),es(null)},children:(0,i.jsx)(p,{})})}),(0,i.jsxs)("div",{className:"action-group",children:[(0,i.jsx)(s(),{className:"button ghost",href:null!==(N=e.config.path)&&void 0!==N?N:"/",children:"Open"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>X(t=>t===e.ref_id?null:e.ref_id),children:Y===e.ref_id?"Hide details":"Details"})]}),(0,i.jsxs)("div",{className:"action-group action-group--right",children:[M?(0,i.jsx)("button",{className:"button small",type:"button",onClick:()=>ex(e),children:"Save"}):null,(0,i.jsx)("button",{className:"button edit small",type:"button",onClick:()=>D(t=>t===e.ref_id?null:e.ref_id),children:M?"Close":"Edit"}),(0,i.jsx)("button",{className:"button danger small",type:"button",onClick:()=>U(e),children:"Delete"}),M&&"idle"!==Z?(0,i.jsxs)("span",{className:"status-chip status-".concat(Z),children:["dirty"===Z?"Unsaved changes":null,"saving"===Z?"Saving...":null,"saved"===Z?"Saved":null,"error"===Z?"Save failed":null]}):null]})]}),(0,i.jsxs)("div",{className:"action-row",children:[(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>{var t;return ef(null!==(t=e.node_id)&&void 0!==t?t:null)},children:"Set home"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>P(t=>t===e.ref_id?null:e.ref_id),children:H?"Close copy":"Duplicate"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>J(t=>t===e.ref_id?null:e.ref_id),children:z?"Close mirror":"Mirror"}),S.length>1?(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>W(e),children:"Detach"}):null]}),Y===e.ref_id?(0,i.jsxs)("div",{className:"details-card",children:[(0,i.jsxs)("div",{className:"details-row",children:[(0,i.jsx)("span",{className:"muted",children:"comp_id"}),(0,i.jsx)("code",{className:"details-code",children:e.comp_id}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>eN("comp_id",e.comp_id),children:"Copy"})]}),(0,i.jsxs)("div",{className:"details-row",children:[(0,i.jsx)("span",{className:"muted",children:"ref_id"}),(0,i.jsx)("code",{className:"details-code",children:e.ref_id}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>eN("ref_id",e.ref_id),children:"Copy"})]}),(0,i.jsxs)("div",{className:"details-row",children:[(0,i.jsx)("span",{className:"muted",children:"node_id"}),(0,i.jsx)("code",{className:"details-code",children:null!==(y=e.node_id)&&void 0!==y?y:"-"}),(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:()=>{var t;return eN("node_id",null!==(t=e.node_id)&&void 0!==t?t:null)},children:"Copy"})]})]}):null]},e.ref_id)}),h||0!==l.length?null:(0,i.jsx)("p",{className:"muted",children:"No views yet."})]}),(0,i.jsx)(c.Q,{open:!!M,title:"Delete view",description:M?"Delete ".concat(null!==(t=null!==(e=M.config.title)&&void 0!==e?e:M.config.path)&&void 0!==t?t:"","?"):void 0,confirmLabel:"Delete",danger:!0,onCancel:()=>U(null),onConfirm:()=>{M&&ev(M),U(null)}}),(0,i.jsx)(c.Q,{open:!!z,title:"Detach view",description:"This view will become independent and no longer share content.",confirmLabel:"Detach",onCancel:()=>W(null),onConfirm:()=>{z&&ew(z)}}),(0,i.jsx)(c.Q,{open:Q,title:"Detach all shared views",description:"This will make all shared views independent. The last view in each group will remain as-is.",confirmLabel:"Detach all",onCancel:()=>G(!1),onConfirm:e_})]})}function x(e){let{title:t,items:l,onSave:a,onDelete:s,validate:r}=e,o=(0,u.p)(),[d,c]=(0,n.useState)({}),[h,p]=(0,n.useState)({}),[m,f]=(0,n.useState)({}),[v,g]=(0,n.useState)({});async function x(e){if(!m[e.id]){if(r){let t=r(e);if(t){o.push(t,"error");return}}f(t=>({...t,[e.id]:!0}));try{await a(e),p(t=>({...t,[e.id]:!1})),g(t=>({...t,[e.id]:!0})),o.push("Saved","success"),setTimeout(()=>{g(t=>({...t,[e.id]:!1}))},1500)}catch(e){o.push("Save failed","error")}finally{f(t=>({...t,[e.id]:!1}))}}}return(0,n.useEffect)(()=>{let e={};for(let t of l)e[t.id]={label:t.label,href:t.href};c(e)},[l]),(0,i.jsxs)("div",{className:"section-card",children:[(0,i.jsx)("h3",{children:t}),(0,i.jsx)("div",{className:"list",children:l.map(e=>{var t;let l=null!==(t=d[e.id])&&void 0!==t?t:{label:e.label,href:e.href},n=r?r({...e,label:l.label,href:l.href}):null;return(0,i.jsxs)("div",{className:"list-item column",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Label"}),(0,i.jsx)("input",{value:l.label,onChange:t=>{let i=t.target.value;c(t=>({...t,[e.id]:{...l,label:i}})),p(t=>({...t,[e.id]:!0}))},onBlur:()=>x({...e,label:l.label,href:l.href}),"aria-invalid":!!n})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Href"}),(0,i.jsx)("input",{value:l.href,onChange:t=>{let i=t.target.value;c(t=>({...t,[e.id]:{...l,href:i}})),p(t=>({...t,[e.id]:!0}))},onBlur:()=>x({...e,label:l.label,href:l.href}),"aria-invalid":!!n}),n?(0,i.jsx)("span",{className:"form-hint error",children:n}):null]}),(0,i.jsxs)("div",{className:"action-bar",children:[(0,i.jsxs)("div",{className:"action-group",children:[(0,i.jsx)("button",{className:"button ghost small",type:"button",onClick:()=>x({...e,label:l.label,href:l.href}),disabled:m[e.id],children:"Save"}),h[e.id]?(0,i.jsx)("span",{className:"status-chip status-dirty",children:"Unsaved"}):null,m[e.id]?(0,i.jsx)("span",{className:"status-chip status-saving",children:"Saving..."}):null,v[e.id]?(0,i.jsx)("span",{className:"status-chip status-saved",children:"Saved"}):null]}),(0,i.jsx)("div",{className:"action-group action-group--right",children:(0,i.jsx)("button",{className:"button danger small",type:"button",onClick:()=>s(e),children:"Delete"})})]})]},e.id)})})]})}let j=[{value:"home",label:"Home",href:"/"},{value:"settings",label:"Settings",href:"/settings"},{value:"feed",label:"RSS Feed",href:"/feed.xml"}];function b(e){var t,l,i;return null!==(i=null!==(l=null!==(t=e.config.title)&&void 0!==t?t:e.config.name)&&void 0!==l?l:e.config.path)&&void 0!==i?i:"Untitled"}function w(e){let{title:t,onCreate:l,views:a,ensureViews:s,viewsLoading:r}=e,[o,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[m,f]=(0,n.useState)(null),[v,g]=(0,n.useState)("");(0,n.useEffect)(()=>{"internal"===o&&s()},[o,s]);let x=(0,n.useMemo)(()=>{var e;return m&&null!==(e=a.find(e=>e.node_id===m))&&void 0!==e?e:null},[m,a]),w=(0,n.useMemo)(()=>{var e;return null!==(e=j.find(e=>e.value===v))&&void 0!==e?e:null},[v]),_="internal"===o&&!!x||"external"===o&&!!(c.trim()&&h.trim())||"special"===o&&!!w,N=(0,n.useCallback)(async()=>{if(_){if("internal"===o&&x){var e;await l({label:b(x),href:null!==(e=x.config.path)&&void 0!==e?e:"/",view_node_id:x.node_id})}"external"===o&&await l({label:c.trim(),href:h.trim()}),"special"===o&&w&&await l({label:w.label,href:w.href}),d(""),u(""),p(""),f(null),g("")}},[_,o,x,w,l,c,h]);return(0,i.jsxs)("div",{className:"section-card",children:[(0,i.jsx)("h3",{children:t}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("select",{value:o,onChange:e=>d(e.target.value),"aria-label":"".concat(t," item type"),children:[(0,i.jsx)("option",{value:"",children:"Select type"}),(0,i.jsx)("option",{value:"internal",children:"Internal"}),(0,i.jsx)("option",{value:"external",children:"External"}),(0,i.jsx)("option",{value:"special",children:"Special"})]}),"internal"===o?(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("select",{value:null!=m?m:"",onChange:e=>f(Number(e.target.value)),disabled:r||0===a.length,"aria-label":"".concat(t," view"),children:[(0,i.jsx)("option",{value:"",children:"Select a view"}),a.filter(e=>null!==e.node_id).map(e=>{var t,l,n;return(0,i.jsx)("option",{value:null!==(t=e.node_id)&&void 0!==t?t:"",children:b(e)},null!==(n=null!==(l=e.node_id)&&void 0!==l?l:e.config.path)&&void 0!==n?n:"unknown")})]}),r?(0,i.jsx)("span",{className:"form-hint",children:"Loading views..."}):null]}):null,"external"===o?(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Label"}),(0,i.jsx)("input",{value:c,onChange:e=>u(e.target.value),placeholder:"Label"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"URL"}),(0,i.jsx)("input",{value:h,onChange:e=>p(e.target.value),placeholder:"https://"})]})]}):null,"special"===o?(0,i.jsxs)("select",{value:v,onChange:e=>g(e.target.value),"aria-label":"".concat(t," special link"),children:[(0,i.jsx)("option",{value:"",children:"Select special"}),j.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))]}):null,_?(0,i.jsx)("div",{className:"action-bar",children:(0,i.jsx)("div",{className:"action-group action-group--right",children:(0,i.jsx)("button",{className:"button",type:"button",onClick:N,children:"Save"})})}):null]})]})}function _(){let[e,t]=(0,n.useState)([]),[l,a]=(0,n.useState)([]),[s,o]=(0,n.useState)([]),[d,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)(null),[f,v]=(0,n.useState)(null),g=(0,u.p)();async function j(){let[e,l]=await Promise.all([(0,r.S)("/menu"),(0,r.S)("/footer")]);t(e),a(l)}(0,n.useEffect)(()=>{j().catch(e=>{m(e instanceof Error?e.message:"Failed to load navigation")})},[]);let b=(0,n.useCallback)(async()=>{if(!s.length&&!d){h(!0);try{let e=await (0,r.S)("/views");o(e)}catch(e){m(e instanceof Error?e.message:"Failed to load views")}finally{h(!1)}}},[s.length,d]),_=(0,n.useCallback)(async e=>{try{var l;let i=await (0,r.S)("/menu",{method:"POST",body:JSON.stringify({label:e.label,href:e.href,view_node_id:null!==(l=e.view_node_id)&&void 0!==l?l:null})});t(e=>[i,...e]),g.push("Menu item added","success")}catch(e){m(e instanceof Error?e.message:"Failed to add menu item"),g.push("Failed to add menu item","error")}},[g]),N=(0,n.useCallback)(async e=>{try{var t;let l=await (0,r.S)("/footer",{method:"POST",body:JSON.stringify({label:e.label,href:e.href,view_node_id:null!==(t=e.view_node_id)&&void 0!==t?t:null})});a(e=>[l,...e]),g.push("Footer item added","success")}catch(e){m(e instanceof Error?e.message:"Failed to add footer item"),g.push("Failed to add footer item","error")}},[g]);async function y(e){await (0,r.S)("/menu/".concat(e),{method:"DELETE"}),t(t=>t.filter(t=>t.menu_id!==e)),g.push("Menu item deleted","success")}async function S(e){await (0,r.S)("/footer/".concat(e),{method:"DELETE"}),a(t=>t.filter(t=>t.footer_id!==e)),g.push("Footer item deleted","success")}return(0,i.jsxs)("div",{className:"panel",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("h2",{children:"Navigation"}),(0,i.jsx)("p",{children:"Add menu and footer items."})]}),p?(0,i.jsx)("div",{className:"alert",children:p}):null,(0,i.jsx)("div",{className:"section",children:(0,i.jsxs)("div",{className:"navigation-grid",children:[(0,i.jsxs)("div",{className:"nav-column",children:[(0,i.jsx)(w,{title:"Header",onCreate:_,views:s,ensureViews:b,viewsLoading:d}),(0,i.jsx)(x,{title:"Header Items",items:e.map(e=>({id:e.menu_id,label:e.label,href:e.href})),validate:e=>e.label.trim()&&e.href.trim()?null:"Label and href are required.",onSave:async e=>{await (0,r.S)("/menu/".concat(e.id),{method:"PUT",body:JSON.stringify({label:e.label,href:e.href})}),t(t=>t.map(t=>t.menu_id===e.id?{...t,label:e.label,href:e.href}:t)),g.push("Menu item saved","success")},onDelete:async e=>{v({type:"menu",item:{...e,menu_id:e.id}})}})]}),(0,i.jsxs)("div",{className:"nav-column",children:[(0,i.jsx)(w,{title:"Footer",onCreate:N,views:s,ensureViews:b,viewsLoading:d}),(0,i.jsx)(x,{title:"Footer Items",items:l.map(e=>({id:e.footer_id,label:e.label,href:e.href})),validate:e=>e.label.trim()&&e.href.trim()?null:"Label and href are required.",onSave:async e=>{await (0,r.S)("/footer/".concat(e.id),{method:"PUT",body:JSON.stringify({label:e.label,href:e.href})}),a(t=>t.map(t=>t.footer_id===e.id?{...t,label:e.label,href:e.href}:t)),g.push("Footer item saved","success")},onDelete:async e=>{v({type:"footer",item:{...e,footer_id:e.id}})}})]})]})}),(0,i.jsx)(c.Q,{open:!!f,title:"Delete navigation item",description:f?"Delete ".concat(f.item.label,"?"):void 0,confirmLabel:"Delete",danger:!0,onCancel:()=>v(null),onConfirm:()=>{f&&("menu"===f.type?y(f.item.menu_id):S(f.item.footer_id),v(null))}})]})}var N=l(973),y=l(3513),S=l(6648);function C(){let[e,t]=(0,n.useState)([]),[l,a]=(0,n.useState)({}),[s,o]=(0,n.useState)(null),[d,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)(null),f=(0,u.p)();async function v(){try{let[e,l]=await Promise.all([(0,r.S)("/assets"),(0,r.S)("/assets/usage")]);t(e),a(l)}catch(e){o(e instanceof Error?e.message:"Failed to load assets")}}async function g(e){var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(l){if(l.size>20971520){o("File is larger than 20MB"),f.push("File is larger than 20MB","error");return}try{h(!0),o(null);let e=new FormData;e.append("file",l);let t=await fetch("".concat(N.J.authorApiBaseUrl,"/upload-asset"),{method:"POST",body:e});if(!t.ok){let e=await t.text();throw Error(e||"Upload failed")}await v(),f.push("Asset uploaded","success")}catch(e){o(e instanceof Error?e.message:"Upload failed"),f.push("Upload failed","error")}finally{h(!1)}}}async function x(e){try{await (0,r.S)("/assets/".concat(encodeURIComponent(e)),{method:"DELETE"}),t(t=>t.filter(t=>t.name!==e)),f.push("Asset deleted","success")}catch(e){o(e instanceof Error?e.message:"Failed to delete asset"),f.push("Delete failed","error")}}return(0,n.useEffect)(()=>{v()},[]),(0,i.jsxs)("div",{className:"panel",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("h2",{children:"Media"}),(0,i.jsx)("p",{children:"Upload and manage assets."})]}),(0,i.jsxs)("label",{className:"section-card",children:[(0,i.jsx)("span",{children:"Upload file"}),(0,i.jsx)("input",{type:"file",onChange:g}),(0,i.jsx)("span",{className:"muted",children:"Images, PDFs, and videos are supported."})]}),d?(0,i.jsx)("p",{children:"Uploading..."}):null,s?(0,i.jsx)("div",{className:"alert",children:s}):null,(0,i.jsx)("div",{className:"media-grid",children:e.map(e=>{var t,n,a;return(0,i.jsxs)("div",{className:"media-card",children:[l[e.src]?(0,i.jsxs)("span",{className:"badge secondary",children:["Used ",l[e.src].count,"x"]}):(0,i.jsx)("span",{className:"badge",children:"Unused"}),(0,i.jsx)("div",{className:"media-preview",children:e.mime.startsWith("image/")?(0,i.jsx)(S.default,{src:e.src,alt:e.name,width:320,height:200,unoptimized:!0,style:{width:"100%",height:"auto"}}):(0,i.jsxs)("div",{className:"media-placeholder",children:[(0,i.jsx)("strong",{children:null!==(a=e.mime.split("/")[1])&&void 0!==a?a:"file"}),(0,i.jsx)("span",{children:e.name})]})}),(0,i.jsxs)("div",{className:"media-meta",children:[(0,i.jsx)("span",{children:e.name}),(0,i.jsxs)("span",{className:"muted",children:[Math.round(e.size/1024)," KB"]}),(null===(n=l[e.src])||void 0===n?void 0:null===(t=n.views)||void 0===t?void 0:t.length)?(0,i.jsxs)("span",{className:"muted",children:["Used in: ",l[e.src].views.join(", ")]}):null]}),(0,i.jsxs)("div",{className:"action-bar",children:[(0,i.jsxs)("div",{className:"action-group",children:[(0,i.jsx)("button",{className:"button ghost small",type:"button",onClick:()=>{var t,l;return t=e.src,void(null===(l=navigator.clipboard)||void 0===l||l.writeText(t))},children:"Copy URL"}),(0,i.jsx)("a",{className:"button ghost small",href:e.src,download:!0,children:(0,i.jsxs)("span",{className:"icon-label",children:[(0,i.jsx)(y._8,{size:14,"aria-hidden":!0}),"Download"]})})]}),(0,i.jsx)("div",{className:"action-group action-group--right",children:(0,i.jsx)("button",{className:"button danger small icon-only",type:"button",onClick:()=>m(e),"aria-label":"Delete",title:"Delete",children:(0,i.jsx)(y.pJ,{size:20,strokeWidth:2,"aria-hidden":!0})})})]})]},e.name)})}),(0,i.jsx)(c.Q,{open:!!p,title:"Delete asset",description:p?"Delete ".concat(p.name,"?"):void 0,confirmLabel:"Delete",danger:!0,onCancel:()=>m(null),onConfirm:()=>{p&&x(p.name),m(null)}})]})}let k={site_name:"",tagline:"",site_url:"",description:"",keywords:"",author:"",language:"en",theme_color:"#1f3b56",twitter_handle:"",social_image_url:"",social_image_border_enabled:!1,social_image_border_color:"#0f172a",social_image_border_width:16,social_image_border_radius:24,robots:"index,follow",favicon_src:""};function E(){let[e,t]=(0,n.useState)(k),[l,a]=(0,n.useState)(k),[s,r]=(0,n.useState)("idle"),[o,d]=(0,n.useState)(!1),[c,h]=(0,n.useState)(null),p=(0,u.p)(),m=((0,n.useRef)(!1),(0,n.useRef)(null),(0,n.useMemo)(()=>e.favicon_src,[e.favicon_src])),f=(0,n.useCallback)(async()=>{},[!1]);(0,n.useEffect)(()=>{f()},[f]);let v=(0,n.useMemo)(()=>Object.keys(k).some(t=>e[t]!==l[t]),[e,l]);(0,n.useEffect)(()=>{},[e,v,!1,p]);let g=(0,n.useCallback)(async(e,t,l)=>{},[!1,p]),x=(0,n.useCallback)(async e=>{},[!1,g]),j=(0,n.useCallback)(async e=>{},[!1,g]);return(0,i.jsxs)("div",{className:"panel",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("h2",{children:"Site"}),(0,i.jsx)("p",{children:"Identity and metadata for your site."})]}),(0,i.jsxs)("div",{className:"section-card",children:[(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Site Name"}),(0,i.jsx)("input",{value:e.site_name,onChange:e=>t(t=>({...t,site_name:e.target.value})),placeholder:"Studio Notebook"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Tagline"}),(0,i.jsx)("input",{value:e.tagline,onChange:e=>t(t=>({...t,tagline:e.target.value})),placeholder:"Thoughts, notes, and experiments"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Site URL"}),(0,i.jsx)("input",{value:e.site_url,onChange:e=>t(t=>({...t,site_url:e.target.value})),placeholder:"https://example.com"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Default Language"}),(0,i.jsx)("input",{value:e.language,onChange:e=>t(t=>({...t,language:e.target.value})),placeholder:"en"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Favicon"}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:x}),(0,i.jsx)("span",{className:"form-hint",children:"PNG or SVG, 32x32 recommended."})]}),o?(0,i.jsx)("span",{className:"form-hint",children:"Uploading favicon..."}):null,m?(0,i.jsx)("div",{className:"image-preview favicon-preview",children:(0,i.jsx)(S.default,{src:m,alt:"Favicon preview",width:64,height:64,unoptimized:!0})}):null,(0,i.jsx)("div",{className:"section-divider"}),(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h4",{children:"Rich Preview Settings"}),(0,i.jsx)("p",{children:"Controls link preview metadata for social sharing."})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Meta Description"}),(0,i.jsx)("textarea",{value:e.description,onChange:e=>t(t=>({...t,description:e.target.value})),placeholder:"A short description for search and previews."})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Keywords"}),(0,i.jsx)("input",{value:e.keywords,onChange:e=>t(t=>({...t,keywords:e.target.value})),placeholder:"design, studio, portfolio"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Author"}),(0,i.jsx)("input",{value:e.author,onChange:e=>t(t=>({...t,author:e.target.value})),placeholder:"Your name or studio"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Theme Color"}),(0,i.jsx)("input",{type:"color",value:e.theme_color,onChange:e=>t(t=>({...t,theme_color:e.target.value}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Twitter Handle"}),(0,i.jsx)("input",{value:e.twitter_handle,onChange:e=>t(t=>({...t,twitter_handle:e.target.value})),placeholder:"@studio"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Social Image URL"}),(0,i.jsx)("input",{value:e.social_image_url,onChange:e=>t(t=>({...t,social_image_url:e.target.value})),placeholder:"https://example.com/og.jpg"})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Social Image Upload"}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:j}),(0,i.jsx)("span",{className:"form-hint",children:"Recommended 1200x630 for link previews."})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Border Social Image"}),(0,i.jsx)("input",{type:"checkbox",checked:e.social_image_border_enabled,onChange:e=>t(t=>({...t,social_image_border_enabled:e.target.checked}))}),(0,i.jsx)("span",{className:"form-hint",children:"Applied at build time for Open Graph previews."})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Border Color"}),(0,i.jsx)("input",{type:"color",value:e.social_image_border_color,onChange:e=>t(t=>({...t,social_image_border_color:e.target.value}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Border Width (px)"}),(0,i.jsx)("input",{type:"number",min:0,value:e.social_image_border_width,onChange:e=>t(t=>({...t,social_image_border_width:Number(e.target.value)}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Border Radius (px)"}),(0,i.jsx)("input",{type:"number",min:0,value:e.social_image_border_radius,onChange:e=>t(t=>({...t,social_image_border_radius:Number(e.target.value)}))})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Robots"}),(0,i.jsxs)("select",{value:e.robots,onChange:e=>t(t=>({...t,robots:e.target.value})),children:[(0,i.jsx)("option",{value:"index,follow",children:"index,follow"}),(0,i.jsx)("option",{value:"noindex,follow",children:"noindex,follow"}),(0,i.jsx)("option",{value:"index,nofollow",children:"index,nofollow"}),(0,i.jsx)("option",{value:"noindex,nofollow",children:"noindex,nofollow"})]})]}),e.social_image_url?(0,i.jsx)("div",{className:"image-preview",children:(0,i.jsx)(S.default,{src:e.social_image_url,alt:"Social image preview",width:640,height:336,unoptimized:!0,style:{width:"100%",height:"auto"}})}):null]}),c?(0,i.jsx)("div",{className:"alert",children:c}):null,null]})]})}let D=[{id:"site",label:"Site"},{id:"views",label:"Views"},{id:"navigation",label:"Navigation"},{id:"media",label:"Media"},{id:"ai",label:"AI"},{id:"theme",label:"Theme"},{id:"structure",label:"Structure"},{id:"knowledge",label:"Knowledge Base"}];function T(){let[e,t]=(0,n.useState)("site");return(0,i.jsxs)("section",{className:"surface hero",children:[(0,i.jsxs)("header",{children:[(0,i.jsx)("h1",{children:"Settings"}),(0,i.jsx)("p",{children:"Manage views and navigation for your site."})]}),(0,i.jsx)("div",{className:"tabs",children:D.map(l=>(0,i.jsx)("button",{className:"tab ".concat(e===l.id?"tab-active":""),onClick:()=>t(l.id),type:"button",children:l.label},l.id))}),(0,i.jsxs)("div",{className:"section",children:["site"===e?(0,i.jsx)(E,{}):null,"views"===e?(0,i.jsx)(g,{}):null,"navigation"===e?(0,i.jsx)(_,{}):null,"media"===e?(0,i.jsx)(C,{}):null,null,null,null,null]})]})}},2586:function(e,t,l){"use strict";l.d(t,{Q:function(){return a}});var i=l(7437),n=l(2265);function a(e){let{open:t,title:l,description:a,confirmLabel:s="Confirm",cancelLabel:r="Cancel",onConfirm:o,onCancel:d,danger:c=!1,isBusy:u=!1}=e;return((0,n.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&d()};return document.body.style.overflow="hidden",window.addEventListener("keydown",e),()=>{document.body.style.overflow="",window.removeEventListener("keydown",e)}},[t,d]),t)?(0,i.jsx)("div",{className:"dialog-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title",onClick:d,children:(0,i.jsxs)("div",{className:"dialog",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("h3",{id:"dialog-title",children:l}),a?(0,i.jsx)("p",{className:"muted",children:a}):null,(0,i.jsxs)("div",{className:"dialog-actions",children:[(0,i.jsx)("button",{className:"button ghost",type:"button",onClick:d,disabled:u,children:r}),(0,i.jsx)("button",{className:"button ".concat(c?"danger":""),type:"button",onClick:o,disabled:u,children:u?"Working...":s})]})]})}):null}},2151:function(e,t,l){"use strict";l.d(t,{ToastProvider:function(){return s},p:function(){return r}});var i=l(7437),n=l(2265);let a=(0,n.createContext)(null);function s(e){let{children:t}=e,[l,s]=(0,n.useState)([]),r=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",l="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));s(i=>[...i,{id:l,message:e,type:t}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==l))},3500)},[]),o=(0,n.useMemo)(()=>({push:r}),[r]);return(0,i.jsxs)(a.Provider,{value:o,children:[t,(0,i.jsx)("div",{className:"toast-stack",children:l.map(e=>(0,i.jsx)("div",{className:"toast toast-".concat(e.type),children:e.message},e.id))})]})}function r(){let e=(0,n.useContext)(a);if(!e)throw Error("useToast must be used within ToastProvider");return e}},3513:function(e,t,l){"use strict";l.d(t,{_8:function(){return a},dY:function(){return r},dt:function(){return o},pJ:function(){return s}});var i=l(7437);function n(e){let{title:t,size:l=20,viewBox:n="0 0 24 24",children:a,...s}=e,r=s["aria-label"],o=!!(t||r);return(0,i.jsxs)("svg",{width:l,height:l,viewBox:n,fill:"none",stroke:"currentColor",strokeWidth:1.6,strokeLinecap:"round",strokeLinejoin:"round",role:o?"img":"presentation","aria-hidden":!o||void 0,focusable:"false",...s,children:[t?(0,i.jsx)("title",{children:t}):null,a]})}function a(e){return(0,i.jsxs)(n,{...e,children:[(0,i.jsx)("path",{d:"M12 4v9"}),(0,i.jsx)("path",{d:"m9 10 3 3 3-3"}),(0,i.jsx)("path",{d:"M5 15v4h14v-4"})]})}function s(e){return(0,i.jsxs)(n,{...e,children:[(0,i.jsx)("path",{d:"M5 7h14"}),(0,i.jsx)("path",{d:"M9 7V4h6v3"}),(0,i.jsx)("path",{d:"M7 7l1 13h8l1-13"}),(0,i.jsx)("path",{d:"M10 11v6"}),(0,i.jsx)("path",{d:"M14 11v6"})]})}function r(e){return(0,i.jsxs)(n,{...e,children:[(0,i.jsx)("path",{d:"M4 20h4l10-10-4-4L4 16v4z"}),(0,i.jsx)("path",{d:"M13.5 6.5 17.5 10.5"})]})}function o(e){return(0,i.jsxs)(n,{...e,children:[(0,i.jsx)("path",{d:"M12 5v14"}),(0,i.jsx)("path",{d:"M5 12h14"})]})}},8199:function(e,t,l){"use strict";l.d(t,{S:function(){return n}});let i=l(973).J.authorApiBaseUrl;async function n(e,t){var l,n;let a="".concat(i).concat(e),s=performance.now(),r=await fetch(a,{...t,headers:{"Content-Type":"application/json",...null!==(l=null==t?void 0:t.headers)&&void 0!==l?l:{}},cache:"no-store"}),o=Math.round((performance.now()-s)*10)/10;if("→ ".concat(null!==(n=null==t?void 0:t.method)&&void 0!==n?n:"GET"," ").concat(e),!r.ok){let e=await r.text();throw Error("API ".concat(r.status,": ").concat(e))}let d=await r.json();return"← ".concat(r.status," ").concat(e," (").concat(o,"ms)"),d}},973:function(e,t,l){"use strict";var i;l.d(t,{J:function(){return n}});let n={outputDir:"out",authorApiBaseUrl:null!==(i=l(357).env.NEXT_PUBLIC_AUTHOR_API_BASE_URL)&&void 0!==i?i:"http://localhost:4001",defaultThemeId:1}}},function(e){e.O(0,[231,892,971,23,744],function(){return e(e.s=2069)}),_N_E=e.O()}]);